✅ A3.8 — Consolidated Naming Conventions Section (Freeze-Gate Spec)

Phase: Phase-5
Category: A — Freeze Gate Verification
Item: A3.8
Status: ✅ COMPLETED (Freeze-ready)
Date: 2026-01-27
Purpose: Create a single "Naming Conventions" section that consolidates A3.1–A3.7 into one reviewer-friendly artifact (used for freeze + later Data Dictionary embed in A3.9).

⸻

1) Canonical Naming Conventions (Locked)

This section is the single consolidated reference. Detailed sub-specs remain authoritative in their individual files.

1.1 Tables (A3.1)
	•	snake_case, underscores only
	•	plural nouns for entity tables
	•	mapping tables: {left}_{right} (snake_case)
	•	workspace prefixing: quote_*, templates: master_*
	•	audit canonical: audit_logs
	•	history suffix: prefer _history (single standard)
	•	import prefix: import_*
	•	AI prefix: ai_*

1.2 Columns (A3.2)
	•	snake_case
	•	PK: id
	•	FK: {referenced_table_singular}_id (role-prefixed when needed: created_by, updated_by, overridden_by)
	•	booleans: is_* / has_*
	•	enums: *_status, *_type, *_mode, *_source, *_level
	•	percent: _pct; amount: _amount; totals: *_total; final payable: grand_total
	•	timestamps: {event}_at; date-only: {event}_on
	•	jsonb: *_json
	•	ordering: sequence_order (preferred)

1.3 FK constraints + indexes (A3.3)
	•	FK constraint: fk_<from_table>__<from_column>__<to_table>
	•	Index: idx_<table>__<col1>[_<col2>...]
	•	tenant composite indexes: idx_<table>__tenant_id_<key>

1.4 Enum rules (A3.4)
	•	values: UPPER_SNAKE_CASE
	•	DB enforcement via CHECK constraints (Phase-5 default)
	•	enum constraint naming (new-only): chk_<table>__<column>__enum
	•	cross-layer consistency: DB ↔ Python Enum ↔ API schema ↔ docs
	•	mapping layer allowed if DB values differ from internal naming

1.5 Timestamps (A3.5)
	•	_at for timestamp, _on for date-only
	•	default lifecycle fields: created_at, updated_at
	•	actor/time pairs: <event>_by + <event>_at
	•	effective dating: effective_from, effective_to (type-consistent)

1.6 ID strategy (A3.6)
	•	PK default: id BIGINT (autoincrement)
	•	tenant-scoped uniqueness: include tenant_id
	•	no uniqueness constraints that violate reuse workflows (ex: do not unique (quotation_id, product_id))

1.7 Tenant isolation (A3.7)
	•	tenant_id mandatory by default + FK to tenants
	•	all read/write paths tenant-filtered
	•	cross-tenant joins forbidden
	•	GLOBAL tables must be explicitly documented (default: only tenants)

⸻

2) Enforcement Expectations
	•	All new migrations must comply with this consolidated section.
	•	Any deviation requires:
	•	a justification note in migration header, and
	•	a note in Schema Canon / Data Dictionary change log.

⸻

3) Freeze Gate Compliance

Checklist Item: A3.8 — Naming conventions section
Status: ✅ VERIFIED
Approval: ✅ APPROVED

