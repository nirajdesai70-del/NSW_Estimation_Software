# A6.5 — CostHead Resolution Order (LOCKED)

**Phase:** Phase-5  
**Category:** A — Freeze Gate Verification  
**Item:** A6.5  
**Status:** ✅ LOCKED (Freeze-ready)  
**Date:** 2026-01-27  
**Purpose:** Define the canonical CostHead resolution order used for costing rollups and reporting.

⸻

## Resolution Order (LOCKED)

CostHead for a quotation line is resolved in the following order:

1. **Line override (highest priority):**
   - `quote_bom_items.cost_head_id`

2. **Product default (fallback):**
   - `products.cost_head_id`

3. **System default (last fallback):**
   - System-wide default CostHead (if such a rule exists), otherwise NULL allowed and UI must prompt.

⸻

## Scope

- Applies to quotation workspace line items (`quote_bom_items`).
- Independent of pricing resolution (rate_source / discount rules).
- Used for rollups and reporting.

⸻

## Evidence

- Line override verified: A6.2
- Product default verified: A6.4
- CostHead master verified: A6.1

⸻

## Change Control

This resolution order is **LOCKED** and cannot be changed without:
1) explicit Senate decision update,  
2) Data Dictionary update,  
3) Schema Canon note (if schema changes),  
4) Freeze gate checklist update.

---

## 9️⃣ Tier-1 Deep-Dive (Optional)

For governance-grade micro-specification with explicit non-goals, failure semantics, audit expectations, and future extension guardrails, see:

- **A6.5b — A6-COST-01 CostHead Resolution Order (Tier-1 Micro-Spec)**  
  *(Additive enhancement; A6.5 remains the primary reference.)*

