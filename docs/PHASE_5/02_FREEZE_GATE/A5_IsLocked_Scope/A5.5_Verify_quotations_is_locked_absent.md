# A5.5 — Verify quotations.is_locked is absent (MVP)

**Phase:** Phase-5  
**Category:** A — Freeze Gate Verification  
**Item:** A5.5  
**Status:** ✅ VERIFIED  
**Date:** 2026-01-27  
**Purpose:** Prove quotation-level locking is NOT present in schema (MVP scope is line-item only).

---

## Evidence

- **Migration file:** `backend/alembic/versions/20260104_110400_create_schema_canon_v1_0_l1_l2_quo_pricing.py`
- **How to locate:** search for `create_table('quotations'` then search within that block for `is_locked`

---

## Findings

- `quotations` table definition contains **no** `is_locked` column.
- Quotation-level schema locking is **not implemented** (by design for MVP).

**Important distinction:**
- `status` field exists but it is **workflow status**, not schema-level locking
- `status` values: 'DRAFT', 'APPROVED', 'FINALIZED', 'CANCELLED'
- `status` tracks quotation workflow state (business process)
- `is_locked` would be deletion protection at schema level (different mechanism)

**Migration context:**
```python
op.create_table('quotations',
    ...
    sa.Column('status', sa.String(length=50), nullable=False, server_default='DRAFT'),
    sa.CheckConstraint("status IN ('DRAFT', 'APPROVED', 'FINALIZED', 'CANCELLED')", name='chk_quotations_status'),
    # No is_locked column present
    ...
)
```

**Note:** Status-based locking (e.g., FINALIZED = read-only) would be implicit business logic, not schema-level `is_locked`. Schema-level `is_locked` remains the authoritative locking mechanism for deletion protection.

---

## Conclusion

- **Freeze gate decision:** ✅ APPROVED  
- **Notes:** Aligns with A5.2 scope lock: `is_locked` applies **only** to `quote_bom_items` in MVP.
- **Quotation-level locking:** Explicitly excluded from MVP scope per Decision D-005.
- **Field distinction:** `status` is present but serves different purpose (workflow state, not locking).

