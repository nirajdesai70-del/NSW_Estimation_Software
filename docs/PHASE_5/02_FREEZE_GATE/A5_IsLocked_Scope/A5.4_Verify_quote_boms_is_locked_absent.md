# A5.4 — Verify quote_boms.is_locked is absent (MVP)

**Phase:** Phase-5  
**Category:** A — Freeze Gate Verification  
**Item:** A5.4  
**Status:** ✅ VERIFIED  
**Date:** 2026-01-27  
**Purpose:** Prove BOM-level locking is NOT present in schema (MVP scope is line-item only).

---

## Evidence

- **Migration file:** `backend/alembic/versions/20260104_110400_create_schema_canon_v1_0_l1_l2_quo_pricing.py`
- **How to locate:** search for `create_table('quote_boms'` then search within that block for `is_locked`

---

## Findings

- `quote_boms` table definition contains **no** `is_locked` column.
- BOM-level schema locking is **not implemented** (by design for MVP).

**Important distinction:**
- `is_modified` exists but it is **not** a locking field
- `is_modified` tracks deviation from Master BOM template (modification tracking)
- `is_locked` would be deletion protection (different purpose)

**Migration context:**
```python
op.create_table('quote_boms',
    ...
    sa.Column('is_modified', sa.Boolean(), nullable=False, server_default='false'),
    sa.Column('modified_by', sa.BigInteger(), nullable=True),
    sa.Column('modified_at', sa.TIMESTAMP(), nullable=True),
    # No is_locked column present
    ...
)
```

---

## Conclusion

- **Freeze gate decision:** ✅ APPROVED  
- **Notes:** Aligns with A5.2 scope lock: `is_locked` applies **only** to `quote_bom_items` in MVP.
- **BOM-level locking:** Explicitly excluded from MVP scope per Decision D-005.
- **Field distinction:** `is_modified` is present but serves different purpose (modification tracking, not locking).

