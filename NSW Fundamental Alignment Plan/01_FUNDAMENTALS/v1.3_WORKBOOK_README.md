# üìò NSW v1.3 Worksheet ‚Äî Philosophy & Usage Guide

**Version:** v1.3 (Final)  
**Purpose:** Master data + intent structure for NSW Estimation  
**Status:** CANONICAL ‚Äî Use this for all NSW data creation and import

---

## üö´ Final Lock Statement (Read First)

**This worksheet records engineering intent only.**
**Pricing, SKUs, and vendor behavior are resolved later.**
**Any attempt to store price or vendor logic here is invalid.**

---

## 1. What This Worksheet Fundamentally Represents

This worksheet represents **engineering intent**, not pricing, not procurement, and not legacy structure.

It is the canonical NSW truth layer that answers only one question:

**"What is the item we intend to use, and what features/options are explicitly requested?"**

Everything else‚ÄîSKU selection, vendor behavior, pricing, BOM lines‚Äîis derived later.

---

## 2. What This Worksheet Is NOT

To avoid confusion, this worksheet is **not**:

- ‚ùå A price list
- ‚ùå A vendor catalog
- ‚ùå A legacy replacement
- ‚ùå A BOM line list
- ‚ùå A quotation sheet

It must **never** be treated as:
- "final purchasable items"
- "what will be invoiced"
- "what vendor sells"

That thinking belongs to L2/SKU layer, not here.

---

## 3. Core Idea: One Intent ‚Üí Many Possible Realities

The worksheet is built on one central philosophy:

**One engineering intent may result in different commercial realities depending on the vendor.**

### Example:

**Intent:**
- ACB 1600A with UV

**Commercial Realities:**
- **Schneider** ‚Üí UV included (1 SKU)
- **ABB** ‚Üí UV separate SKU (2 SKUs: Base + UV addon)
- **Siemens** ‚Üí UV bundled variant (1 SKU: different base variant)

The worksheet does not care which vendor does what.

It only records:
- The base intent
- The requested features, clearly and explicitly

---

## 4. üß† The Big Picture (Visual Mental Model)

```
ENGINEERING INTENT (NSW v1.3)
‚îÇ
‚îÇ  (What do we want?)
‚îÇ
‚îú‚îÄ L1 BASE LINE
‚îÇ     ‚îî‚îÄ Core item (ACB / Cable / Meter)
‚îÇ
‚îú‚îÄ L1 FEATURE LINE
‚îÇ     ‚îî‚îÄ UV
‚îÇ
‚îú‚îÄ L1 FEATURE LINE
‚îÇ     ‚îî‚îÄ AUX
‚îÇ
‚îÇ  (No price here)
‚îÇ
‚ñº
COMMERCIAL REALITY (Derived Later)
‚îÇ
‚îú‚îÄ L2 SKU LINE (BASE SKU)
‚îÇ
‚îú‚îÄ L2 SKU LINE (ADDON SKU ‚Äì if required)
‚îÇ
‚îî‚îÄ L2 SKU LINE (ADDON SKU ‚Äì if required)
‚îÇ
‚îÇ  (Price truth lives here)
‚ñº
BOM / QUOTATION TOTAL (Computed)
```

---

## 5. What Each Layer Means

### L1 (This Worksheet)
- **Captures:** Engineering intent
- **Explicitly lists:**
  - What the item is
  - Which features are requested
- **Characteristics:**
  - Vendor-agnostic
  - Price-free
  - Stable and reusable

### L2 (Not in This Worksheet)
- **Captures:** What is actually bought
- **Characteristics:**
  - Vendor-specific
  - SKU-specific
  - Price-owning
  - Can differ per make/series

---

## 6. Why BASE and FEATURE Are Separate Lines

This is the most important mental model.

### BASE Line

**Represents:**
- The core item
- The main engineering object
- The thing you would describe even without options

**Example:**
- "ACB 1600A 4P"

### FEATURE Lines

**Represent:**
- Explicit engineering requests
- Optional capabilities that may or may not cost extra
- Things that must never be hidden

**Examples:**
- UV
- OV
- Shunt trip
- Aux contacts
- Shielding
- Armouring

### Why Separate Lines?

Because hiding features inside attributes or flags causes:
- Vendor confusion
- Price mistakes
- Invisible assumptions
- Broken reuse

**This worksheet makes all intent visible.**

### Visual Comparison:

**‚ùå Bad (Legacy Thinking):**

```
"ACB 1600A with UV" (UV hidden inside)
```

**‚úÖ Correct (NSW v1.3):**

```
BASE    ‚Üí ACB 1600A
FEATURE ‚Üí UV
FEATURE ‚Üí AUX
```

This guarantees:
- No hidden cost assumptions
- No vendor bias
- No accidental omissions
- Clean explosion later

---

## 7. How Vendors Are Handled (Example)

### Same L1 Intent:

```
BASE    ‚Üí ACB 1600A
FEATURE ‚Üí UV
```

### Vendor Results:

| Vendor | L2 Result |
|--------|-----------|
| Schneider | 1 SKU (UV included) |
| ABB | 2 SKUs (Base + UV addon) |
| Siemens | 1 SKU (bundled base variant) |

**‚úÖ Same intent**  
**‚úÖ Different commercial realities**  
**‚úÖ Zero confusion**

---

## 8. Meaning of an "Item" in This Worksheet

**In v1.3:**

An Item is **not** a single row.  
An Item is a **GROUP** of rows.

**Specifically:**
- One BASE row
- Zero or more FEATURE rows
- All tied by the same `L1_Group_Id`

That group together is the complete item intent.

**So:**
- "ACB with UV and Aux" = **3 rows**, not 1
- Still **one item**, **one intent**, **one design choice**

---

## 9. Why There Is No Price Anywhere Here

This is deliberate and non-negotiable.

### Philosophy:
- Engineering must not guess price
- Price must not pollute intent

### Therefore:
- ‚ùå No price
- ‚ùå No rate
- ‚ùå No total
- ‚ùå No vendor dependency

Even if a UI later shows a subtotal for convenience, it is:
- Derived
- Temporary
- Not stored
- Not authoritative

**Price truth lives only in SKU/L2 layer.**

---

## 10. How Attributes Fit Into This Philosophy

Attributes answer **"with what value"**, never **"is it included"**.

### In This Worksheet:
- Attributes attach to L1 rows
- Base attributes attach to **BASE row**
- Feature-specific attributes attach to **FEATURE row**

### Examples:
- Rated Current ‚Üí BASE
- Poles ‚Üí BASE
- UV Voltage ‚Üí UV FEATURE
- Aux contact config ‚Üí AUX FEATURE

This keeps:
- Values clean
- Validation simple
- Reuse predictable

---

## 11. Why Vendor Rules Are Not Embedded Here

This worksheet is **vendor-agnostic by design**.

It does **not** say:
- "UV is included"
- "UV costs extra"
- "This SKU must be used"

That logic lives in:
- `MAKE_SERIES_FEATURE_POLICY` sheet
- SKU master
- L2 explosion logic

This separation allows:
- Same intent to work across vendors
- Clean future migration
- No retrofitting hacks

---

## 12. How This Coexists With Phase-4 Legacy

This worksheet does **not** disturb Phase-4 because:
- **Phase-4** = stabilize what exists (Legacy truth)
- **v1.3** = define what NSW should be (NSW truth)

They coexist under **Two Truth Layers**:
- Legacy truth continues to operate
- NSW truth is built cleanly in parallel

**No forced mapping.**  
**No silent reinterpretation.**  
**No mixed semantics.**

---

## 13. One-Line Summary (To Remember)

**"This worksheet records 'what we want', not 'what we buy'."**

Buying, pricing, and vendor behavior are resolved later, cleanly and explicitly.

### One-Line Mental Anchor

**"If you can see it in engineering drawings, it must appear as a row in L1."**

---

## 14. Why This Worksheet Matters Long-Term

This single philosophy enables:
- ‚úÖ Correct multi-SKU explosion
- ‚úÖ Clean BOM regeneration
- ‚úÖ Safe catalog imports
- ‚úÖ AI reasoning on intent
- ‚úÖ Future NS Ware alignment
- ‚úÖ Painless vendor switching

Without this separation, every future enhancement becomes fragile.

---

## 15. ‚úÖ DO ‚Äî Correct Usage

### DO treat the worksheet as engineering intent
- Use it to answer: "What are we designing?"
- **Not:** "What will we pay?"

### DO create:
- 1 BASE line per item
- Separate FEATURE lines for:
  - UV
  - OV
  - Shunt
  - Aux
  - Shield
  - Armour
  - Any optional capability

### DO attach attributes correctly
- **BASE attributes** ‚Üí BASE line
  - Rated current, poles, size, voltage grade
- **FEATURE attributes** ‚Üí FEATURE line
  - UV voltage, aux contact config, etc.

### DO keep it vendor-agnostic
- ‚ùå No make
- ‚ùå No SKU
- ‚ùå No price
- ‚ùå No assumptions like "included" or "extra"

### DO remember:
- Multiple rows ‚â† multiple items
- Multiple rows = one complete intent

---

## 16. ‚ùå DON'T ‚Äî Incorrect Usage

### ‚ùå DON'T add price anywhere in v1.3
- ‚ùå No rate
- ‚ùå No amount
- ‚ùå No total
- ‚ùå No "estimated price"

**If price appears here ‚Üí model is broken.**

### ‚ùå DON'T hide features
- ‚ùå Don't encode UV/OV inside descriptions
- ‚ùå Don't rely on "default behavior"
- ‚ùå Don't assume vendor inclusion

**If it's requested ‚Üí it must be a FEATURE line.**

### ‚ùå DON'T collapse SKUs into L1
- ‚ùå L1 ‚â† purchasable line
- ‚ùå L1 ‚â† invoice line
- ‚ùå L1 ‚â† BOM line

**That logic belongs to L2.**

### ‚ùå DON'T mix legacy semantics
- ‚ùå Legacy Category/SubCategory ‚â† NSW Category/SubCategory
- ‚ùå Don't "map loosely" for convenience
- ‚ùå Respect the Two Truth Layers rule

---

## 17. üö´ Absolute Red Flags (Stop Immediately)

**If anyone says:**
- "Why are there multiple rows for one item?"
- "Can we just add price here?"
- "UV is usually included, no need to add row"
- "This looks too complex; legacy was simpler"

**üëâ They are applying legacy thinking. Stop and correct.**

### Final Usage Rule

**If someone asks "where is the price?" ‚Üí they are looking at the wrong layer.**  
**If someone asks "why are there multiple rows?" ‚Üí they are seeing intent correctly.**

---

## 18. Worksheet Structure Overview

This workbook contains 5 sheets:

### Sheet A: GENERIC_MASTER (L1 Intent Lines)
- One row = one L1 intent line (BASE or FEATURE)
- Groups related lines via `L1_Group_Id`

### Sheet B: GENERIC_ATTRIBUTES (KVU Attributes)
- One row = one attribute attached to an L1 line
- Key-Value-Unit model

### Sheet C: ATTRIBUTE_MASTER (Dictionary + Validation)
- Controlled dictionary to avoid column explosion
- Supports dropdowns and validation rules

### Sheet D: FEATURE_MASTER (Feature Code Dictionary)
- Standardizes feature codes (UV, OV, SHUNT, AUX, etc.)
- Prevents typos, supports data quality

### Sheet E: MAKE_SERIES_FEATURE_POLICY (Vendor Variability Control)
- Bridge from L1 feature lines ‚Üí L2 SKU behavior
- Handles vendor variability (Schneider vs ABB/Siemens)

**For detailed column specifications, see:** `MASTER_FUNDAMENTALS_v2.0.md` Section AA.1

---

## 19. References

- **Master Doctrine:** `MASTER_FUNDAMENTALS_v2.0.md`
- **Phase 5 Scope:** `docs/PHASE_5/PHASE_5_SCOPE_FENCE.md`
- **Legacy vs NSW Coexistence:** `docs/PHASE_5/LEGACY_VS_NSW_COEXISTENCE_POLICY.md`
- **Master Data Governance:** `docs/PHASE_5/ADR-005_MASTER_DATA_GOVERNANCE_FIREWALL.md`

---

## 20. Quick Decision Tree

**Q: Should I add this as a FEATURE line?**  
**A:** If it appears in engineering drawings as a separate capability/option ‚Üí YES

**Q: Should I put price here?**  
**A:** NO. Price belongs in SKU/L2 layer only.

**Q: Why are there multiple rows for one item?**  
**A:** Because one item = BASE + FEATURE lines grouped by `L1_Group_Id`. This is correct.

**Q: Can I collapse this to match legacy format?**  
**A:** NO. This is NSW canonical format. Legacy and NSW are separate truth layers.

**Q: Where do I put vendor-specific logic?**  
**A:** `MAKE_SERIES_FEATURE_POLICY` sheet (Sheet E), not in GENERIC_MASTER.

---

**END OF v1.3 WORKBOOK README**

